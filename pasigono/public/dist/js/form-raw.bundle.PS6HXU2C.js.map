{
  "version": 3,
  "sources": ["../../../../../apps/pasigono/pasigono/custom_scripts/frappe/form.js"],
  "sourcesContent": ["frappe.ui.form.Form = class extends frappe.ui.form.Form{\n\tsavesubmit(btn, callback, on_error) {\n\t\tvar me = this;\n\t\treturn new Promise(resolve => {\n\t\t\tthis.validate_form_action(\"Submit\");\n\t\t\tif(this.doctype == 'POS Invoice'){\n\t\t\t\tme.submit_confirmed(btn, callback, on_error, resolve);\n\t\t\t}\n\t\t\telse{\n\t\t\t\tfrappe.confirm(__(\"Permanently Submit {0}?\", [this.docname]), function() {\n\t\t\t\t\tme.submit_confirmed(btn, callback, on_error);\n\t\t\t\t}, function(){\n\t\t\t\t\tme.handle_save_fail(btn, on_error, resolve);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\t\n\tsubmit_confirmed(btn, callback, on_error, resolve){\n\t\tvar me = this;\n\t\tfrappe.validated = true;\n\t\tme.script_manager.trigger(\"before_submit\").then(function() {\n\t\t\tif(!frappe.validated) {\n\t\t\t\treturn me.handle_save_fail(btn, on_error);\n\t\t\t}\n\n\t\t\tme.save('Submit', function(r) {\n\t\t\t\tif(r.exc) {\n\t\t\t\t\tme.handle_save_fail(btn, on_error);\n\t\t\t\t} else {\n\t\t\t\t\tfrappe.utils.play_sound(\"submit\");\n\t\t\t\t\tcallback && callback();\n\t\t\t\t\tme.script_manager.trigger(\"on_submit\")\n\t\t\t\t\t\t.then(() => resolve(me))\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tif (frappe.route_hooks.after_submit) {\n\t\t\t\t\t\t\t\tlet route_callback = frappe.route_hooks.after_submit;\n\t\t\t\t\t\t\t\tdelete frappe.route_hooks.after_submit;\n\t\t\t\t\t\t\t\troute_callback(me);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}, btn, () => me.handle_save_fail(btn, on_error), resolve);\n\t\t});\n\t}\n}\n"],
  "mappings": "MAAA,OAAO,GAAG,KAAK,KAAO,aAAc,QAAO,GAAG,KAAK,IAAI,CACtD,WAAW,EAAK,EAAU,EAAU,CACnC,GAAI,GAAK,KACT,MAAO,IAAI,SAAQ,GAAW,CAC7B,KAAK,qBAAqB,QAAQ,EAClC,AAAG,KAAK,SAAW,cAClB,EAAG,iBAAiB,EAAK,EAAU,EAAU,CAAO,EAGpD,OAAO,QAAQ,GAAG,0BAA2B,CAAC,KAAK,OAAO,CAAC,EAAG,UAAW,CACxE,EAAG,iBAAiB,EAAK,EAAU,CAAQ,CAC5C,EAAG,UAAU,CACZ,EAAG,iBAAiB,EAAK,EAAU,CAAO,CAC3C,CAAC,CAEH,CAAC,CACF,CAEA,iBAAiB,EAAK,EAAU,EAAU,EAAQ,CACjD,GAAI,GAAK,KACT,OAAO,UAAY,GACnB,EAAG,eAAe,QAAQ,eAAe,EAAE,KAAK,UAAW,CAC1D,GAAG,CAAC,OAAO,UACV,MAAO,GAAG,iBAAiB,EAAK,CAAQ,EAGzC,EAAG,KAAK,SAAU,SAAS,EAAG,CAC7B,AAAG,EAAE,IACJ,EAAG,iBAAiB,EAAK,CAAQ,EAEjC,QAAO,MAAM,WAAW,QAAQ,EAChC,GAAY,EAAS,EACrB,EAAG,eAAe,QAAQ,WAAW,EACnC,KAAK,IAAM,EAAQ,CAAE,CAAC,EACtB,KAAK,IAAM,CACX,GAAI,OAAO,YAAY,aAAc,CACpC,GAAI,GAAiB,OAAO,YAAY,aACxC,MAAO,QAAO,YAAY,aAC1B,EAAe,CAAE,CAClB,CACD,CAAC,EAEJ,EAAG,EAAK,IAAM,EAAG,iBAAiB,EAAK,CAAQ,EAAG,CAAO,CAC1D,CAAC,CACF,CACD",
  "names": []
}
